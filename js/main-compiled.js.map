{"version":3,"sources":["main.js"],"names":[],"mappings":";;AAAA,IAAI,YAAY,EAAhB;IACI,YAAY,EADhB;;AAGA,SAAS,QAAT,CAAkB,IAAlB,EAAwB;AACpB;;AAEA,QAAI,mBAAmB,SAAS,cAAT,CAAwB,eAAxB,CAAvB;QACI,SADJ;QAEI,SAFJ;QAGI,eAHJ;;AAKA,QAAI,SAAS,cAAT,CAAwB,KAAK,OAAL,EAAxB,CAAJ,EAA6C;AACzC,oBAAY,SAAS,cAAT,CAAwB,KAAK,OAAL,EAAxB,CAAZ;AACA,0BAAkB,SAAS,cAAT,CAAwB,KAAK,OAAL,KAAiB,IAAzC,CAAlB;;AAEA,kBAAU,YAAV,CAAuB,IAAvB,EAA6B,KAAK,IAAL,EAA7B;AACA,kBAAU,YAAV,CAAuB,IAAvB,EAA6B,KAAK,IAAL,EAA7B;AACA,wBAAgB,YAAhB,CAA6B,IAA7B,EAAmC,KAAK,IAAL,EAAnC;AACA,wBAAgB,YAAhB,CAA6B,IAA7B,EAAmC,KAAK,IAAL,EAAnC;AACH,KARD,MAQO;AACH,oBAAY,SAAS,eAAT,CAAyB,4BAAzB,EAAuD,QAAvD,CAAZ;AACA,oBAAY,SAAS,eAAT,CAAyB,4BAAzB,EAAuD,GAAvD,CAAZ;AACA,0BAAkB,SAAS,eAAT,CAAyB,4BAAzB,EAAuD,QAAvD,CAAlB;;AAEA,kBAAU,YAAV,CAAuB,IAAvB,EAA6B,KAAK,OAAL,EAA7B;AACA,kBAAU,YAAV,CAAuB,GAAvB,EAA4B,GAA5B;AACA,kBAAU,YAAV,CAAuB,MAAvB,EAA+B,OAA/B;AACA,wBAAgB,YAAhB,CAA6B,IAA7B,EAAmC,KAAK,OAAL,KAAiB,IAApD;AACA,wBAAgB,YAAhB,CAA6B,GAA7B,EAAkC,GAAlC;AACA,wBAAgB,YAAhB,CAA6B,cAA7B,EAA6C,GAA7C;AACA,kBAAU,YAAV,CAAuB,YAAvB,EAAqC,GAArC;AACA,2BAAmB,iBAAiB,WAAjB,CAA6B,SAA7B,CAAnB;;AAEA,SAAC,SAAD,EAAY,eAAZ,EAA6B,OAA7B,CAAqC,UAAU,EAAV,EAAc;AAC/C,eAAG,YAAH,CAAgB,IAAhB,EAAsB,KAAK,IAAL,EAAtB;AACA,eAAG,YAAH,CAAgB,IAAhB,EAAsB,KAAK,IAAL,EAAtB;AACA,6BAAiB,WAAjB,CAA6B,EAA7B;AACH,SAJD;AAKH;AACJ;;AAED,SAAS,QAAT,CAAkB,IAAlB,EAAwB;AACpB;;AAEA,QAAI,mBAAmB,SAAS,cAAT,CAAwB,eAAxB,CAAvB;QACI,IADJ;;AAGA,QAAI,SAAS,cAAT,CAAwB,KAAK,OAAL,EAAxB,CAAJ,EAA6C;AACzC,eAAO,SAAS,cAAT,CAAwB,KAAK,OAAL,EAAxB,CAAP;;AAEA,aAAK,YAAL,CAAkB,IAAlB,EAAwB,KAAK,KAAL,GAAa,IAAb,EAAxB;AACA,aAAK,YAAL,CAAkB,IAAlB,EAAwB,KAAK,KAAL,GAAa,IAAb,EAAxB;AACA,aAAK,YAAL,CAAkB,IAAlB,EAAwB,KAAK,KAAL,GAAa,IAAb,EAAxB;AACA,aAAK,YAAL,CAAkB,IAAlB,EAAwB,KAAK,KAAL,GAAa,IAAb,EAAxB;AACH,KAPD,MAOO;AACH,eAAO,SAAS,eAAT,CAAyB,4BAAzB,EAAuD,MAAvD,CAAP;;AAEA,aAAK,YAAL,CAAkB,IAAlB,EAAwB,KAAK,OAAL,EAAxB;AACA,aAAK,YAAL,CAAkB,IAAlB,EAAwB,KAAK,KAAL,GAAa,IAAb,EAAxB;AACA,aAAK,YAAL,CAAkB,IAAlB,EAAwB,KAAK,KAAL,GAAa,IAAb,EAAxB;AACA,aAAK,YAAL,CAAkB,IAAlB,EAAwB,KAAK,KAAL,GAAa,IAAb,EAAxB;AACA,aAAK,YAAL,CAAkB,IAAlB,EAAwB,KAAK,KAAL,GAAa,IAAb,EAAxB;AACA,aAAK,YAAL,CAAkB,cAAlB,EAAkC,GAAlC;AACA,aAAK,YAAL,CAAkB,QAAlB,EAA4B,OAA5B;AACA,yBAAiB,WAAjB,CAA6B,IAA7B;AACH;AAEJ;;AAED,SAAS,WAAT,CAAqB,CAArB,EAAwB,KAAxB,EAA+B;AAC3B;;AAEA,WAAO,CAAC,IAAI,KAAK,GAAL,CAAS,KAAT,CAAL,EAAsB,IAAI,KAAK,GAAL,CAAS,KAAT,CAA1B,CAAP;AACH;;AAED,SAAS,cAAT,CAAwB,SAAxB,EAAmC,SAAnC,EAA8C;AAC1C;;AAEA,cAAU,OAAV,CAAkB,UAAU,EAAV,EAAc;AAC5B,iBAAS,EAAT;AACA,kBAAU,GAAG,OAAH,EAAV,IAA0B,EAA1B;AACH,KAHD;;AAKA,cAAU,OAAV,CAAkB,UAAU,EAAV,EAAc;AAC5B,iBAAS,EAAT;AACA,kBAAU,GAAG,OAAH,EAAV,IAA0B,EAA1B;AACA,SAAC,GAAG,KAAH,GAAW,QAAX,GAAsB,QAAtB,CAA+B,GAAG,OAAH,EAA/B,CAAD,GAAgD,GAAG,KAAH,GAAW,cAAX,CAA0B,IAA1B,CAA+B,GAAG,OAAH,EAA/B,CAAhD,GAA+F,SAA/F;AACA,SAAC,GAAG,KAAH,GAAW,QAAX,GAAsB,QAAtB,CAA+B,GAAG,OAAH,EAA/B,CAAD,GAAgD,GAAG,KAAH,GAAW,cAAX,CAA0B,IAA1B,CAA+B,GAAG,OAAH,EAA/B,CAAhD,GAA+F,SAA/F;;AAEH,KAND;;;AASA,aAAS,cAAT,CAAwB,eAAxB,EAAyC,SAAzC,GAAqD,SAAS,cAAT,CAAwB,eAAxB,EAAyC,SAAzC,GAAqD,GAA1G;;AAEA,MAAE,GAAF,EAAO,EAAP,CAAU,mBAAV,EAA+B,UAAU,CAAV,EAAa;AACxC,YAAI,gBAAgB,IAApB;AACA,YAAI,EAAE,IAAF,KAAW,WAAf,EAA4B;AACxB,cAAE,QAAF,EAAY,EAAZ,CAAe,WAAf,EAA4B,UAAU,KAAV,EAAiB;AACzC,oBAAI,YAAY,KAAhB;oBACI,YAAY,KADhB;oBAEI,iBAAiB,cAAc,oBAAd,CAAmC,QAAnC,EAA6C,CAA7C,EAAgD,YAAhD,CAA6D,IAA7D,CAFrB;oBAGI,aAAa,UAAU,cAAV,CAHjB;;AAKA,oBAAI,CAAC,SAAL,EAAgB;AACZ,gCAAY,IAAZ;AACA,+BAAW,YAAY;AACnB,oCAAY,KAAZ;AACA,mCAAW,CAAX,GAAe,UAAU,OAAV,GAAoB,EAAE,gBAAF,EAAoB,MAApB,GAA6B,IAAhE;AACA,mCAAW,CAAX,GAAe,UAAU,OAAV,GAAoB,EAAE,gBAAF,EAAoB,MAApB,GAA6B,GAAhE;AACA,iCAAS,UAAT;AACA,mCAAW,QAAX,GAAsB,OAAtB,CAA8B,UAAU,UAAV,EAAsB;AAChD,qCAAS,UAAU,UAAV,CAAT;AACH,yBAFD;AAGH,qBARD,EAQG,EARH;AASH;AACJ,aAlBD;AAmBH;AACD,YAAI,EAAE,IAAF,KAAW,SAAf,EAA0B;AACtB,cAAE,IAAF,EAAQ,GAAR,CAAY,WAAZ;AACH;AACJ,KA1BD;AA4BH;;AAED,SAAS,IAAT,GAAgB;AACZ;;AAEA,QAAI,eAAe,SAAS,eAAT,CAAyB,4BAAzB,EAAuD,KAAvD,CAAnB;;AAEA,iBAAa,YAAb,CAA0B,IAA1B,EAAgC,eAAhC;AACA,iBAAa,YAAb,CAA0B,OAA1B,EAAmC,KAAnC;AACA,iBAAa,YAAb,CAA0B,QAA1B,EAAoC,KAApC;AACA,iBAAa,YAAb,CAA0B,OAA1B,EAAmC,4BAAnC;;AAEA,aAAS,cAAT,CAAwB,aAAxB,EAAuC,WAAvC,CAAmD,YAAnD;;AAEA,mBAAe,SAAf,EAA0B,SAA1B;;AAEA,MAAE,QAAF,EAAY,EAAZ,CAAe,SAAf,EAA0B,YAAY;AAClC,UAAE,QAAF,EAAY,GAAZ,CAAgB,WAAhB;AACH,KAFD;AAIH","file":"main-compiled.js","sourcesContent":["var nodeGuids = {},\r\n    edgeGuids = {};\r\n\r\nfunction drawNode(node) {\r\n    'use strict';\r\n\r\n    var drawingContainer = document.getElementById('svg-container'),\r\n        nodePoint,\r\n        clickable,\r\n        clickableCircle;\r\n\r\n    if (document.getElementById(node.getGuid())) {\r\n        nodePoint = document.getElementById(node.getGuid());\r\n        clickableCircle = document.getElementById(node.getGuid() + '-c');\r\n\r\n        nodePoint.setAttribute('cx', node.getX());\r\n        nodePoint.setAttribute('cy', node.getY());\r\n        clickableCircle.setAttribute('cx', node.getX());\r\n        clickableCircle.setAttribute('cy', node.getY());\r\n    } else {\r\n        nodePoint = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\r\n        clickable = document.createElementNS('http://www.w3.org/2000/svg', 'a');\r\n        clickableCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\r\n\r\n        nodePoint.setAttribute('id', node.getGuid());\r\n        nodePoint.setAttribute('r', '2');\r\n        nodePoint.setAttribute('fill', 'black');\r\n        clickableCircle.setAttribute('id', node.getGuid() + '-c');\r\n        clickableCircle.setAttribute('r', '5');\r\n        clickableCircle.setAttribute('fill-opacity', '0');\r\n        clickable.setAttribute('xlink:href', '#');\r\n        drawingContainer = drawingContainer.appendChild(clickable);\r\n\r\n        [nodePoint, clickableCircle].forEach(function (el) {\r\n            el.setAttribute('cx', node.getX());\r\n            el.setAttribute('cy', node.getY());\r\n            drawingContainer.appendChild(el);\r\n        });\r\n    }\r\n}\r\n\r\nfunction drawEdge(edge) {\r\n    'use strict';\r\n\r\n    var drawingContainer = document.getElementById('svg-container'),\r\n        line;\r\n\r\n    if (document.getElementById(edge.getGuid())) {\r\n        line = document.getElementById(edge.getGuid());\r\n\r\n        line.setAttribute('x1', edge.getN1().getX());\r\n        line.setAttribute('y1', edge.getN1().getY());\r\n        line.setAttribute('x2', edge.getN2().getX());\r\n        line.setAttribute('y2', edge.getN2().getY());\r\n    } else {\r\n        line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\r\n\r\n        line.setAttribute('id', edge.getGuid());\r\n        line.setAttribute('x1', edge.getN1().getX());\r\n        line.setAttribute('y1', edge.getN1().getY());\r\n        line.setAttribute('x2', edge.getN2().getX());\r\n        line.setAttribute('y2', edge.getN2().getY());\r\n        line.setAttribute('stroke-width', '1');\r\n        line.setAttribute('stroke', 'black');\r\n        drawingContainer.appendChild(line);\r\n    }\r\n\r\n}\r\n\r\nfunction polarToCart(r, theta) {\r\n    'use strict';\r\n\r\n    return [r * Math.cos(theta), r * Math.sin(theta)];\r\n}\r\n\r\nfunction inflateNetwork(nodeArray, edgeArray) {\r\n    'use strict';\r\n\r\n    nodeArray.forEach(function (el) {\r\n        drawNode(el);\r\n        nodeGuids[el.getGuid()] = el;\r\n    });\r\n\r\n    edgeArray.forEach(function (el) {\r\n        drawEdge(el);\r\n        edgeGuids[el.getGuid()] = el;\r\n        !el.getN1().getLines().includes(el.getGuid()) ? el.getN1().connectedLines.push(el.getGuid()) : undefined;\r\n        !el.getN2().getLines().includes(el.getGuid()) ? el.getN2().connectedLines.push(el.getGuid()) : undefined;\r\n        //el.getN2().connectedLines.push(el.getGuid());\r\n    });\r\n\r\n    // jank ass method to force content inside svg-container to draw correctly\r\n    document.getElementById('svg-container').innerHTML = document.getElementById('svg-container').innerHTML + ' ';\r\n\r\n    $('a').on('mousedown mouseup', function (e) {\r\n        var activeNodeDom = this;\r\n        if (e.type === 'mousedown') {\r\n            $(document).on('mousemove', function (event) {\r\n                var lastEvent = event,\r\n                    scheduled = false,\r\n                    activeNodeGuid = activeNodeDom.getElementsByTagName('circle')[0].getAttribute('id'),\r\n                    activeNode = nodeGuids[activeNodeGuid];\r\n\r\n                if (!scheduled) {\r\n                    scheduled = true;\r\n                    setTimeout(function () {\r\n                        scheduled = false;\r\n                        activeNode.x = lastEvent.clientX - $('#svg-container').offset().left;\r\n                        activeNode.y = lastEvent.clientY - $('#svg-container').offset().top;\r\n                        drawNode(activeNode);\r\n                        activeNode.getLines().forEach(function (connection) {\r\n                            drawEdge(edgeGuids[connection]);\r\n                        });\r\n                    }, 15);\r\n                }\r\n            });\r\n        }\r\n        if (e.type === 'mouseup') {\r\n            $(this).off('mousemove');\r\n        }\r\n    });\r\n\r\n}\r\n\r\nfunction init() {\r\n    'use strict';\r\n\r\n    var svgContainer = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\r\n\r\n    svgContainer.setAttribute('id', 'svg-container');\r\n    svgContainer.setAttribute('width', '500');\r\n    svgContainer.setAttribute('height', '500');\r\n    svgContainer.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\r\n\r\n    document.getElementById('svg-network').appendChild(svgContainer);\r\n\r\n    inflateNetwork(NODEARRAY, EDGEARRAY);\r\n\r\n    $(document).on('mouseup', function () {\r\n        $(document).off('mousemove');\r\n    });\r\n\r\n}\r\n"]}