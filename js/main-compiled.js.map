{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main-compiled.js","sourcesContent":["var nodeGuids = {},\r\n    edgeGuids = {},\r\n    ORIGMOUSEX,\r\n    ORIGMOUSEY,\r\n    movingNode = false;\r\n\r\nfunction drawNode(node) {\r\n    'use strict';\r\n\r\n    var drawingContainer = document.getElementById('svg-container'),\r\n        nodePoint,\r\n        clickable,\r\n        clickableCircle;\r\n\r\n    if (document.getElementById(node.getGuid())) {\r\n        nodePoint = document.getElementById(node.getGuid());\r\n        clickableCircle = document.getElementById(node.getGuid() + '-c');\r\n\r\n        [nodePoint, clickableCircle].forEach(function (el) {\r\n            el.setAttribute('cx', node.getX());\r\n            el.setAttribute('cy', node.getY());\r\n        });\r\n    } else {\r\n        nodePoint = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\r\n        clickable = document.createElementNS('http://www.w3.org/2000/svg', 'a');\r\n        clickableCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\r\n\r\n        nodePoint.setAttribute('id', node.getGuid());\r\n        nodePoint.setAttribute('r', '2');\r\n        nodePoint.setAttribute('fill', 'black');\r\n        clickableCircle.setAttribute('id', node.getGuid() + '-c');\r\n        clickableCircle.setAttribute('r', '5');\r\n        clickableCircle.setAttribute('fill-opacity', '0');\r\n        clickable.setAttribute('xlink:href', '#');\r\n        drawingContainer = drawingContainer.appendChild(clickable);\r\n\r\n        [nodePoint, clickableCircle].forEach(function (el) {\r\n            el.setAttribute('cx', node.getX());\r\n            el.setAttribute('cy', node.getY());\r\n            el.setAttribute('class', 'cursor-pointer');\r\n            drawingContainer.appendChild(el);\r\n        });\r\n    }\r\n}\r\n\r\nfunction drawEdge(edge) {\r\n    'use strict';\r\n\r\n    var drawingContainer = document.getElementById('svg-container'),\r\n        line;\r\n\r\n    if (document.getElementById(edge.getGuid())) {\r\n        line = document.getElementById(edge.getGuid());\r\n\r\n        line.setAttribute('x1', edge.getN1().getX());\r\n        line.setAttribute('y1', edge.getN1().getY());\r\n        line.setAttribute('x2', edge.getN2().getX());\r\n        line.setAttribute('y2', edge.getN2().getY());\r\n    } else {\r\n        line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\r\n\r\n        line.setAttribute('id', edge.getGuid());\r\n        line.setAttribute('x1', edge.getN1().getX());\r\n        line.setAttribute('y1', edge.getN1().getY());\r\n        line.setAttribute('x2', edge.getN2().getX());\r\n        line.setAttribute('y2', edge.getN2().getY());\r\n        line.setAttribute('stroke-width', '1');\r\n        line.setAttribute('stroke', 'black');\r\n        drawingContainer.appendChild(line);\r\n    }\r\n\r\n}\r\n\r\nfunction polarToCart(r, theta) {\r\n    'use strict';\r\n\r\n    return [r * Math.cos(theta), r * Math.sin(theta)];\r\n}\r\n\r\nfunction inflateNetwork(nodeArray, edgeArray) {\r\n    'use strict';\r\n\r\n    nodeArray.forEach(function (el) {\r\n        drawNode(el);\r\n        nodeGuids[el.getGuid()] = el;\r\n    });\r\n\r\n    edgeArray.forEach(function (el) {\r\n        drawEdge(el);\r\n        edgeGuids[el.getGuid()] = el;\r\n        el.getN1().connectedLines.push(el.getGuid());\r\n        el.getN2().connectedLines.push(el.getGuid());\r\n    });\r\n\r\n    // jank ass method to force content inside svg-container to draw correctly\r\n    document.getElementById('svg-container').innerHTML = document.getElementById('svg-container').innerHTML + ' ';\r\n\r\n    $('a').on('mousedown', function (e) {\r\n        var activeDomNode = this;\r\n        movingNode = true;\r\n        $(document).on('mousemove', function (event) {\r\n            var lastEvent = event,\r\n                scheduled = false,\r\n                activeNodeGuid = activeDomNode.getElementsByTagName('circle')[0].getAttribute('id'),\r\n                activeNode = nodeGuids[activeNodeGuid],\r\n                svgContainer = $('#svg-container');\r\n\r\n            if (!scheduled) {\r\n                scheduled = true;\r\n                setTimeout(function () {\r\n                    scheduled = false;\r\n                    activeNode.x = lastEvent.clientX - svgContainer.offset().left;\r\n                    activeNode.y = lastEvent.clientY - svgContainer.offset().top;\r\n                    drawNode(activeNode);\r\n                    activeNode.getLines().forEach(function (connection) {\r\n                        drawEdge(edgeGuids[connection]);\r\n                    });\r\n                }, 15);\r\n            }\r\n        });\r\n    });\r\n\r\n\r\n    $('#svg-container').on('mousedown', function (event) {\r\n        if (!movingNode) {\r\n            var origMouseX = event.clientX,\r\n                origMouseY = event.clientY;\r\n            $(document).on('mousemove', function (event) {\r\n                var lastEvent = event,\r\n                    scheduled = false;\r\n\r\n                if (!scheduled) {\r\n                    scheduled = true;\r\n                    setTimeout(function () {\r\n                        scheduled = false;\r\n                        NODEARRAY.forEach(function (el) {\r\n                            el.x = el.x + event.clientX - origMouseX;\r\n                            el.y = el.y + event.clientY - origMouseY;\r\n                            drawNode(el);\r\n                            el.getLines().forEach(function (connection) {\r\n                                drawEdge(edgeGuids[connection]);\r\n                            });\r\n                        });\r\n                        origMouseX = event.clientX;\r\n                        origMouseY = event.clientY;\r\n                    }, 15);\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nfunction init() {\r\n    'use strict';\r\n\r\n    inflateNetwork(NODEARRAY, EDGEARRAY);\r\n\r\n    $(document).on('mouseup', function () {\r\n        $(document).off('mousemove');\r\n        movingNode = false;\r\n    });\r\n}\r\n"]}