{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main-compiled.js","sourcesContent":["var nodeGuids = {},\r\n    edgeGuids = {},\r\n    ORIGMOUSEX,\r\n    ORIGMOUSEY,\r\n    movingNode = false;\r\n\r\nString.prototype.separateByCharacter = function (separator, start) {\r\n    'use strict';\r\n\r\n    var returnArray = [],\r\n        str = this + ' ';\r\n\r\n    while (str.indexOf(separator, start) + 1) {\r\n        returnArray.push(str.slice(start, str.indexOf(separator, start)));\r\n        start = str.indexOf(separator, start) + 1;\r\n    }\r\n\r\n    return returnArray;\r\n};\r\n\r\n\r\nfunction polarToCart(r, theta) {\r\n    'use strict';\r\n\r\n    return [r * Math.cos(theta), r * Math.sin(theta)];\r\n}\r\n\r\nfunction inflateNetwork(nodeArray, edgeArray) {\r\n    'use strict';\r\n\r\n    nodeArray.forEach(function (el) {\r\n        el.draw();\r\n        nodeGuids[el.getGuid()] = el;\r\n    });\r\n\r\n    edgeArray.forEach(function (el) {\r\n        el.draw();\r\n        edgeGuids[el.getGuid()] = el;\r\n        el.getN1().lines.push(el.getGuid());\r\n        el.getN2().lines.push(el.getGuid());\r\n    });\r\n\r\n    // jank ass method to force content inside svg-container to draw correctly\r\n    document.getElementById('svg-container').innerHTML = document.getElementById('svg-container').innerHTML + ' ';\r\n\r\n    $('a').on('mousedown', function () {\r\n        var activeDomNode = this;\r\n        movingNode = true;\r\n        $(document).on('mousemove', function (event) {\r\n            var scheduled = false,\r\n                activeNodeGuid = activeDomNode.getElementsByTagName('circle')[0].getAttribute('id'),\r\n                activeNode = nodeGuids[activeNodeGuid],\r\n                svgContainer = $('#svg-container');\r\n\r\n            if (!scheduled) {\r\n                scheduled = true;\r\n                setTimeout(function () {\r\n                    scheduled = false;\r\n                    activeNode.x = event.clientX - svgContainer.offset().left;\r\n                    activeNode.y = event.clientY - svgContainer.offset().top;\r\n                    activeNode.draw();\r\n                    activeNode.getLines().forEach(function (connection) {\r\n                        edgeGuids[connection].draw();\r\n                    });\r\n                }, 15);\r\n            }\r\n        });\r\n    });\r\n\r\n\r\n    $('#svg-container').on('mousedown', function (event) {\r\n        if (!movingNode) {\r\n            var origMouseX = event.clientX,\r\n                origMouseY = event.clientY;\r\n            $(document).on('mousemove', function (event) {\r\n                var scheduled = false;\r\n\r\n                if (!scheduled) {\r\n                    scheduled = true;\r\n                    setTimeout(function () {\r\n                        scheduled = false;\r\n                        NODEARRAY.forEach(function (el) {\r\n                            el.x = el.getX() + event.clientX - origMouseX;\r\n                            el.y = el.getY() + event.clientY - origMouseY;\r\n                            el.draw();\r\n                        });\r\n                        EDGEARRAY.forEach(function (el) {\r\n                            el.draw();\r\n                        });\r\n                        origMouseX = event.clientX;\r\n                        origMouseY = event.clientY;\r\n                    }, 15);\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nfunction init() {\r\n    'use strict';\r\n\r\n    inflateNetwork(NODEARRAY, EDGEARRAY);\r\n\r\n    $(document).on('mouseup', function () {\r\n        $(document).off('mousemove');\r\n        movingNode = false;\r\n    });\r\n    $('#svg-container').on('scroll', function () {\r\n        var viewBoxStr = this.getAttribute('viewBox'),\r\n            viewBoxArr = viewBoxStr.separateByCharacter(' ', 0),\r\n            minX = viewBoxArr[0],\r\n            minY = viewBoxArr[1],\r\n            width = viewBoxArr[2],\r\n            height = viewBoxArr[3];\r\n\r\n        this.setAttribute('viewBox', minX + ' ' + minY + ' ' + (parseInt(width) + 5));\r\n    });\r\n}\r\n\r\n\r\n"]}